ER図の概要

+-------------------+     +-------------------+     +-------------------+
|   UserAccount     |     |    CustomUser     |     |       Task        |
+-------------------+     +-------------------+     +-------------------+
| - email PK        |1    | - username PK     |1    | - id PK           |
| - name            |-----| - email           |-----| - title           |
| - is_active       |     | - first_name      |     | - description     |
| - is_staff        |     | - last_name       |     | - due_date        |
+-------------------+     | - is_staff        |     | - completed       |
                          | - is_active       |     | - created_at      |
                          +-------------------+     | - updated_at      |
                                                    | - user FK         |
                                                    +-------------------+


関連
UserAccount は Group と Permission に多対多の関連を持っています。
CustomUser は Group と Permission に多対多の関連を持っています。
Task は CustomUser に多対一の関連を持っています。

ER-Diagram
    UserAccount ||--o{ Task : "has"
    CustomUser ||--o{ Task : "has"
    UserAccount {
        string email PK
        string name
        boolean is_active
        boolean is_staff
    }
    CustomUser {
        string username PK
        string email
        string first_name
        string last_name
        boolean is_staff
        boolean is_active
    }
    Task {
        int id PK
        string title
        string description
        date due_date
        boolean completed
        datetime created_at
        datetime updated_at
        CustomUser user FK
    }

モデル: UserAccount (accounts/models.py)
email (EmailField, unique)
name (CharField)
is_active (BooleanField)
is_staff (BooleanField)
groups (ManyToManyField to Group)
user_permissions (ManyToManyField to Permission)
モデル: CustomUser (api/models.py)
groups (ManyToManyField to Group)
user_permissions (ManyToManyField to Permission)
他のフィールドは AbstractUser から継承
モデル: Task (todo_task/models.py)
user (ForeignKey to CustomUser)
title (CharField)
description (TextField)
due_date (DateField)
completed (BooleanField)
created_at (DateTimeField)
updated_at (DateTimeField)
